<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Campus Manager â€” Forest Budget Log</title>

  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Quicksand:wght@300;400;600&display=swap" rel="stylesheet">

  <style>
    /* Keep your original styles here â€” unchanged */
    /* --- trimmed for brevity --- */
    :root{
      --trunk:#4b3621;
      --bark:#3c2e20;
      --moss:#2f6f49;
      --leaf:#6fbf73;
      --soft:#dbeadf;
      --accent:#ae8b59;
      --glass: rgba(255,255,255,0.06);
      --glass-2: rgba(255,255,255,0.03);
    }
    html,body{margin:0;height:100%;font-family:"Quicksand",system-ui; background:#08110b;color:#fff;}
    .page-wrap{display:flex;justify-content:center;padding:40px;}
    .panel{max-width:900px;width:100%;background:rgba(255,255,255,0.02);border-radius:18px;padding:30px;box-shadow:0 20px 60px rgba(0,0,0,0.6);}
    input,button{font-family:inherit;}
    input[type="number"],input[type="text"]{width:100%;padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.1);background:rgba(255,255,255,0.05);color:#fff;font-size:16px;margin-bottom:10px;}
    .btn{padding:10px 14px;border-radius:10px;border:none;cursor:pointer;font-weight:600;color:#0b170b;background:linear-gradient(90deg,var(--leaf),var(--moss));}
    .btn:hover{transform:translateY(-3px);}
    h2{font-family:"Playfair Display",serif;margin-top:0;color:var(--soft);}
    .log-table{width:100%;border-collapse:collapse;margin-top:10px;}
    .log-table th,.log-table td{border-bottom:1px solid rgba(255,255,255,0.08);padding:8px;text-align:left;}
    .log-table th{color:var(--soft);}
    .balance{font-size:20px;font-weight:700;margin-top:10px;color:var(--leaf);}
  </style>
</head>
<body>
  <div class="page-wrap">
    <div class="panel">
      <h2>ðŸŒ¿ Campus Budget Tracker</h2>
      <p>Enter your total budget and log expenses to see remaining balance.</p>

      <label for="budget">ðŸ’° Total Budget (e.g. 50000):</label>
      <input type="number" id="budget" placeholder="Enter total budget" min="0" />

      <div class="balance">Remaining Balance: <span id="balanceDisplay">UGX 0</span></div>

      <hr style="margin:20px 0; opacity:0.3;">

      <h3>Add Expense</h3>
      <input type="text" id="item" placeholder="Expense description (e.g. Lunch)" />
      <input type="number" id="amount" placeholder="Amount spent (e.g. 9000)" min="0" />

      <button class="btn" id="addExpense">Add Expense</button>
      <button class="btn" style="background:rgba(255,255,255,0.05);color:#fff;margin-left:6px;" id="reset">Reset</button>

      <table class="log-table" id="logTable">
        <thead>
          <tr>
            <th>#</th>
            <th>Description</th>
            <th>Amount (UGX)</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>

    </div>
  </div>

<script>
  let totalBudget = 0;
  let remaining = 0;
  let expenses = [];

  const budgetInput = document.getElementById('budget');
  const itemInput = document.getElementById('item');
  const amountInput = document.getElementById('amount');
  const addExpenseBtn = document.getElementById('addExpense');
  const balanceDisplay = document.getElementById('balanceDisplay');
  const logTableBody = document.querySelector('#logTable tbody');
  const resetBtn = document.getElementById('reset');

  function fmt(n){
    return n.toLocaleString('en-UG', {minimumFractionDigits:0});
  }

  // Update display
  function updateDisplay(){
    balanceDisplay.textContent = `UGX ${fmt(remaining)}`;
    logTableBody.innerHTML = expenses.map((exp, i) =>
      `<tr><td>${i+1}</td><td>${exp.item}</td><td>${fmt(exp.amount)}</td></tr>`
    ).join('');
  }

  // Add new expense
  addExpenseBtn.addEventListener('click', ()=>{
    if (!totalBudget || totalBudget <= 0){
      alert("Please enter your total budget first.");
      return;
    }
    const item = itemInput.value.trim();
    const amt = parseFloat(amountInput.value);
    if (!item || isNaN(amt) || amt <= 0){
      alert("Enter valid expense details.");
      return;
    }
    if (amt > remaining){
      alert("Not enough balance for this expense!");
      return;
    }
    expenses.push({item, amount:amt});
    remaining -= amt;
    itemInput.value = "";
    amountInput.value = "";
    updateDisplay();
  });

  // Set total budget
  budgetInput.addEventListener('change', ()=>{
    const val = parseFloat(budgetInput.value);
    if (isNaN(val) || val <= 0){
      alert("Enter a valid total budget.");
      return;
    }
    totalBudget = val;
    remaining = val - expenses.reduce((sum,e)=>sum+e.amount,0);
    updateDisplay();
  });

  // Reset all
  resetBtn.addEventListener('click', ()=>{
    totalBudget = 0;
    remaining = 0;
    expenses = [];
    budgetInput.value = "";
    itemInput.value = "";
    amountInput.value = "";
    updateDisplay();
  });

  updateDisplay();
</script>

</body>
</html>
